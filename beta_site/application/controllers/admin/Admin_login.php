<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed'); class Admin_login extends CI_Controller { 	public function __construct(){		parent::__construct();		$this->is_logged();		 	}	public function is_logged(){		if($this->session->userdata('admin_id') != ""){			//redirect('');		} 	} 	public function login(){	 /*$arr = "201009103241132,201009103171184,201009103261133,201009108821136,201009103281167,201009103171141,201009103171143,201009103351148,201009103261160,201009103251164,201009103261166,201009103261163,201009103341153,201009103241161,201009103291159,201009103341156,201009103341150,201009103331149,201009103281226,201009107881230,201009103291231,201009103291232,201009103321235,201009103251238,201009103291240,201009103261244,201009103291247,201009103251248,201009103261249,201009103171250,201009103341251,201009103351252,201009103251254,201009103291255,201009103341259,201009103261260,201009103261264,201009103261267,201009103281269,201009103291270,201009103261271,201009103291272,201009103291274,201009103291293,201009103261296,201009103261297,201009103261298,201009103171302,201009103251303,201009103261305,201009103341307,201009103261308,201009103291291,201009103251455,201009103291288,201009103241284,201009107881283,201009103261282,201009103251227,201009103251279,201009103281320,201009103291326,201009103261328,201009103281329,201009103281330,201009103281331,201009106741332,201009103281333,201009103241334,201009103171335,201009103341336,201009103341337,201009103261338,201009103291339,201009103341340,201009103251341,201009103281342,201009103251343,201009103281344,201009103291345,201009103291346,201009103281347,201009103261348,201009103171349,201009103281350,201009103281350,201009103341353,201009103261354,201009103251355,201009103251357,201009103301358,201009103261359,201009103301360,201009103261388,201009103171363,201009103281364,201009103261365,201009103241366,201009103171368,201009103261370,201009103341371,201009103341372,201009103251373,201009103261374,201009103251375,201009103261377,201009103261378,201009103251379,201009103341380,201009103261381,201009103281382,201009103291383,201009103261384,201009103281385,201009103261389,201009103261390,201009103341391,201009103281392,201009103261393,201009103181394,201009103291396,201009106751397,201009103261398,201009106741691,201009103341399,201009103291400,201009103261401,201009103261402,201009103251403,201009103251404,201009103261405,201009103261406,201009103341408,201009103341409,201009103261410,201009108821411,201009103261412,201009103291413,201009103261414,201009103261415,201009103261416,201009103261418,201009103341419,201009103341420,201009103261421,201009103241422,201009103341424,201009103281425,201009103281427,201009103281429,201009103251431,201009103281435,201009103171437,201009103251438,201,009103281439,201009103171441,201009103251321,201009103281483,201009103341535,20100,9103281539,201009106741537,201009103251529,201009103251572,201009103351590,2010091,03301589,201009103261584,201009103261582,201009103251570,201009103261571,201009103,281574,201009107881576,201009103171533,201009103251544,201009103251446,20100910326,1553,201009107881554,201009103251555,201009103261556,201009103281563,201009103261564,201009103261566,201009103281567,201009103261569,201009103341558,201009103341541201009103261505,201009103281671,201009107881669,201009103341668,201009103281663,2009103261659,201009103281658,201009103341657,201009103261654,201009103291653,201009103341645,201009103291638,201009103261637,201009103261636,201009103261635,201009103231632,201009103281135,201009103281140,201009103261160,201009103261160,201009103281165,201009103251151,201009103301170,201009103281152,201009103251239,201009103341241,201009103261243,201009103281685,201009103251257,201009103261273,201009103261300,201009103251694,201009103261304,201009103291306,201009103261309,201009103261309,201009103251289,201009103261286,201009103261285,201009103291281,201009103241443,201009107881445,201009103281447,201009103281447,201009103281447,201009103281454,201009103261458,201009103251463,201009103251463,201009103341476,201009103261475,201009103251474,201009106751470,201009103251473,201009103291514,201009103251513,201009103301512,201009103261510,201009103341494,201009103301487,201009103281520,201009103281311,201009103281594,20100910326168,201009103251504,201009103261500,201009103251460,201009103341462,201009103261467,201009103261469,201009103251479,201009103251480, 201009107881482,201009103241484,201009103251486,201009103261490,201009103341493,201009103281496,201009103281498,201009103291503,201009103341502,201009103341497,201009103291492,201009103341485,201009107881481,201009103251690,201009103261466,201009103251459,201009103321534,201009103341531,201009103291530,201009103261525,201009103261548,201009103301543,201009103261546,201009103281547,201009103261524,201009103261575,201009103341538,201009103261550,201009103261559,201009103281562,201009103281565,201009103261568,201009103251551,201009103281688,201009103251545,201009103261528,201009103171624,201009103251672,201009103341667,201009103291666,201009103261665,201009103261650,20100910328321,201009103301646,201009103291673,201009103301633,201009103281139,201009103341142,201009103261144,201009103171147,201009103291146,201009103281228,201009103261229,201009103341234,201009103251236,201009103281237,201009103341245,201009103281246,201009103341256,201009103291266,201009103261268,201009103341275,201009103281295,201009103281310,201009103261312,201009103291313,201009103341314,201009103341292,201009103251280,201009103341430,201009103281432,201009103261433,201009103261517,201009108121434,201009103261450,201009103291451,201009103261452,201009103291461,201009103281519,201009103341468,201009103251472,201009103171471,201009103291465,201009103291508,201009103261495,201009103261491,201009103281489,201009103281516,201009103241515,201009103261501,201009103341499,201009103281488,201009103261457,201009103281527,201009103281526,201009103291573,201009103341588,201009103241586,201009103291536,201009103261549,201009103291557,201009103341617,201009103321619,201009103341622,201009103261661,201009103341656,201009103291652,201009103261649,201009103291644,201009103251640,201009103261639,201009103281634,201009032371172,201009032371169,201009112451168,201009032371174,201009032371176,201009032371177,201009032371180,201009021721183,201009032371182,201009021721181,201009032371179,201009032371178,201009021821175,201009112451173,201009173151171,201009021761233,201009032371258,201009173151294,201009021821299,201009021821456,201009032371440,201009021821442,201009173151444,201009032371449,201009032371453,201009112451705,201009032371523,201009021731522,201009112451627,201009032371621,201009032371616,201009032371674";$imp = explode(",",$arr);$data = array('session_id'=>'4');$this->db->where_in('enrollment_number',$imp); $this->db->update('tbl_student',$data);*/		$this->form_validation->set_rules('email','email','required');		$this->form_validation->set_rules('password','password','required');		if($this->form_validation->run() === FALSE){			$this->load->view('admin/login');		}else{			$result = $this->Admin_model->login();			if($result){				$this->session->set_flashdata('success','Login successfully!');				redirect('profile-setting');			}else{				$this->session->set_flashdata('message','Login failed!');				redirect('erp-access');			}		}	}	public function erp_logout(){		$this->session->sess_destroy();		redirect('erp-access');	}	public function forgot_password(){		$this->form_validation->set_rules('email','email','required');		if($this->form_validation->run() === FALSE){			$this->load->view('admin/forgot_password');		}else{			$result = $this->Admin_model->forgot_password();			if($result){				$this->session->set_flashdata('success','Please check your inbox!');				redirect('erp-access');			}else{				$this->session->set_flashdata('message','Invalid details!');				redirect('erp-access');			}		}	}	public function lead_cron(){		$this->Admin_model->lead_cron();	} 			public function faculty_login(){		$this->form_validation->set_rules('email','email','required');		$this->form_validation->set_rules('password','password','required');		if($this->form_validation->run() === FALSE){			$this->load->view('admin/faculty_login');		}else{			$result = $this->Faculty_model->login();			if($result){				$this->session->set_flashdata('success','Login successfully!');				redirect('faculty_dashboard');			}else{				$this->session->set_flashdata('message','Login failed!');				redirect('faculty_login');			}		}	}	public function faculty_forgot(){		$this->form_validation->set_rules('email','email','required');		if($this->form_validation->run() === FALSE){			$this->load->view('admin/faculty_forgot_password');		}else{			$result = $this->Faculty_model->forgot_password();			if($result){				$this->session->set_flashdata('success','Please check your inbox!');				redirect('faculty_login');			}else{				$this->session->set_flashdata('message','Invalid details!');				redirect('faculty_login');			}		}	}	public function center_inactive(){		$this->Setting_model->center_inactive();		$this->session->set_flashdata('success','Record deactivated successfully');		redirect($_SERVER['HTTP_REFERER']);	}	public function center_active(){		$this->Setting_model->center_active();		$this->session->set_flashdata('success','Record activated successfully');		redirect($_SERVER['HTTP_REFERER']);	}	public function inactive(){		$this->Setting_model->inactive();		$this->session->set_flashdata('success','Record deactivated successfully');		redirect($_SERVER['HTTP_REFERER']);	}	public function active(){		$this->Setting_model->active();		$this->session->set_flashdata('success','Record activated successfully');		redirect($_SERVER['HTTP_REFERER']);	}	public function delete(){		$this->Setting_model->delete();		$this->session->set_flashdata('success','Record deleted successfully');		redirect($_SERVER['HTTP_REFERER']);	}}