<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed'); class Landing_model extends CI_Model { 	public function get_indian_state(){		$this->db->where('country_id','101');		$result = $this->db->get('states');		return $result->result();	}	public function get_city_ajax(){		$this->db->where('name',$this->input->post('state'));		$state = $this->db->get('states');		$state = $state->row();				$this->db->where('state_id',$state->id);		$result = $this->db->get('cities');		echo json_encode($result->result());	}	public function get_course_type(){		$this->db->where('is_deleted','0');		$this->db->where('status','1');		$this->db->order_by('id','ASC');		$result = $this->db->get('tbl_course_type');		return $result->result();	}	public function get_course_list(){		$this->db->where('course_type',$this->input->post('course_type'));		$course_type = $this->db->get('tbl_course_type');		$course_type = $course_type->row();				$this->db->select('tbl_course.print_name');		$this->db->where('tbl_course_stream_relation.is_deleted','0');		$this->db->where('tbl_course_stream_relation.status','1');		$this->db->where('tbl_course_stream_relation.course_type',$course_type->id);		$this->db->join('tbl_course','tbl_course.id = tbl_course_stream_relation.course');		$this->db->group_by('tbl_course_stream_relation.course');		$result = $this->db->get('tbl_course_stream_relation');		echo json_encode($result->result());	}	public function get_course_stream(){		$this->db->where('print_name',$this->input->post('course'));		$course = $this->db->get('tbl_course');		$course = $course->row();				$this->db->select('tbl_stream.stream_name');		$this->db->where('tbl_course_stream_relation.is_deleted','0');		$this->db->where('tbl_course_stream_relation.status','1');		$this->db->where('tbl_course_stream_relation.course',$course->id);		$this->db->join('tbl_stream','tbl_stream.id = tbl_course_stream_relation.stream'); 		$result = $this->db->get('tbl_course_stream_relation');		$this->db->group_by('tbl_course_stream_relation.stream');		echo json_encode($result->result());	}	public function set_landing_page_one(){ 		$data = array(			'name' 			=> $this->input->post('name'),			'email' 		=> $this->input->post('email'),			'mobile' 		=> $this->input->post('mobile'),			'state' 		=> $this->input->post('state'),			'city' 			=> $this->input->post('city'),			'course_type' 	=> '',//$this->input->post('course_type'),			'course' 		=> $this->input->post('course'),			'stream' 		=> '',//$this->input->post('stream'),			'lead_page' 	=> '',//$this->input->post('course'),			'created_on' 	=> date("Y-m-d H:i:s"),		);		$this->db->insert('tbl_generate_lead',$data);		return true;	}	public function get_course_detail(){	    $this->db->where('course_link',$this->uri->segment(1));	    $result = $this->db->get('tbl_course');	    return $result->row();	}	public function get_course_stream_detail(){		$this->db->select('tbl_course_stream_relation.*,tbl_course.course_name,tbl_course.sort_name,tbl_stream.stream_name');	    $this->db->where('tbl_course_stream_relation.course_link',$this->uri->segment(1));		$this->db->join('tbl_course','tbl_course.id = tbl_course_stream_relation.course');		$this->db->join('tbl_stream','tbl_stream.id = tbl_course_stream_relation.stream');	    $result = $this->db->get('tbl_course_stream_relation');	    return $result->row();	}	public function get_course_faq($course){	    $this->db->where('is_deleted','0');	    $this->db->where('course_id',$course);	    $result = $this->db->get('tbl_course_faq');	    return $result->result();	}	public function set_mba_btech(){ 		$data = array(			'name' => $this->input->post('name'),			'email' => $this->input->post('email'),			'mobile' => $this->input->post('mobile'),			'course' => $this->input->post('course'),			'created_on' => date("Y-m-d H:i:s")		);		$this->db->insert('tbl_google_ad_enq',$data);		redirect('thankyou-for-enquire');	}	} 